## Руководство по эксплуатации телеграм-бота «Чат-бот для трекинга привычек» 

Сервис создан на языке программирования python и использует базу данных Postgres для хранения данных пользователей.

### Описание работы

В данном сервисе используется фреймворк FastApi, осуществляющий асинхронное взаимодействие с бд Postgres.
Телеграм бот получает данные через запросы к FastApi 
Все сервисы запускаются в составном докер-контейнере.

#### 1. Запуск сервиса

В консоли из корня проекта вводится команда и после успешного запуска контейнеров телеграм-бот становится доступным для использования
```
docker-compose up -d
```

#### 2. Эндпоинты FastApi
1. **_/api/user_** method GET - Получить данные пользователя. 
2. **_/api/get_users_** method GET  - Получить данные пользователей. Требуемые атрибуты задаются в Header строкой перечислением через пробел
3. **_/api/make_user_** method POST - Создание учетной записи пользователя
5. **_/api/change_user_** method PATCH - Изменение данных пользователя
6. **_/api/delete_user_** method DELETE - Удаление пользователя


#### 3. Команды телеграм-бота
1. **_/get_habits_**  - Просмотр списка привычек/выполнение привычки
2. **_/add_habit_**   - Добавление привычки 
3. **_/delete_habit_** - Удаление привычки 
4. **_/get_completed_** - Просмотр списка выполненных привычек
5. **_/set_repeat_number_** - Настройка количества повторений
6. **_/time_zone_** - Изменение часового пояса
7. **_/help_** - Справка по командам
8. **_/delete_account_** - Удаление учетной записи 

#### 4. Настройка.
Данные аккаунта для базы данных (login, password), токен для эндпоинтов (token) передаются приложению через файл переменных окружения ./main/.env
Токен, необходимый для работы с телеграм-ботом указывается в файле переменных окружения ./tg_bot/.env
В корне проекта расположен файл ./.env, в котором задаётся аккаунт для входа в базу данных и её название (db_login, db_password, db_name)


#### 5. Документация
Подробное описание эндпоинтов (swagger) с возможностью их тестирования доступна через порт 8088 по адресу:
```
 /docs
 ```

